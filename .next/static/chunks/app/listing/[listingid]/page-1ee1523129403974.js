(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[848],{3736:function(e,t,s){Promise.resolve().then(s.bind(s,3938)),Promise.resolve().then(s.bind(s,6467)),Promise.resolve().then(s.bind(s,8861)),Promise.resolve().then(s.bind(s,1150))},94:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},3938:function(e,t,s){"use strict";s.r(t);var r=s(7437),n=s(8861),a=s(1150),i=s(2265);t.default=e=>{let{listingId:t,suggestedMinimumBid:s,highestBid:l}=e,[c,o]=(0,i.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-4 w-full",children:[(0,r.jsx)("p",{className:"text-lg font-medium mb-2",children:"Your Offer"}),(0,r.jsx)(n.default,{setUpdated:o,updated:c,listingId:t})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(a.default,{setUpdateFlag:o,productId:t,curr:l||s,delta:(l||s)/20,min:10,max:1e4})})]})}},6467:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var r=s(7437),n=s(2265);function a(e){let{images:t,className:s,height:a}=e,[i,l]=(0,n.useState)(0),[c,o]=(0,n.useState)(0);return(0,r.jsxs)("div",{className:"".concat(s),children:[(0,r.jsx)("div",{className:" mb-2 bg w-full",children:(0,r.jsx)("img",{width:"100%",src:t[i]})}),(0,r.jsx)("div",{className:(a||" h-16 ")+"flex flex-row w-full overflow-x-scroll justify-start gap-1 items-center",children:t.map((e,t)=>(0,r.jsx)("img",{src:e,className:"h-full",onMouseOver:()=>{l(t)},onMouseLeave:()=>{l(c)},onClick:()=>{l(t),o(t)}},t))})]})}},8861:function(e,t,s){"use strict";s.r(t);var r=s(7437),n=s(2265),a=s(3237);t.default=e=>{let{listingId:t,updated:s,setUpdated:i}=e,l="".concat(a.y,"api/offers/listing/").concat(t),[c,o]=(0,n.useState)({}),[d,u]=(0,n.useState)(!0),[f,h]=(0,n.useState)(!1),[x,m]=(0,n.useState)(""),[p,g]=(0,n.useState)(!0),[j,v]=(0,n.useState)(0);(0,n.useEffect)(()=>{let e=Date.parse(c.expires_at),t=Date.parse(c.created_at),s=Math.floor((e-Date.now())*100/(e-t));s<0&&(s=100),console.log(s=100-s),v(Math.max(5,s))},[c]);let y=async()=>{let e=await fetch(l,{method:"GET",cache:"no-cache",credentials:"include"});200!==e.status&&401!==e.status&&460!==e.status&&(h(!0),m("Failed to fetch offers")),401===e.status&&g(!1),460===e.status&&(h(!0),m("No offers yet"));let t=await e.json();console.log(t),t.offer&&(o(t.offer),console.log(c)),u(!1)};return(0,n.useEffect)(()=>{i&&(console.log("updated value"),y(),i(!1),console.log(c))},[s]),(0,n.useEffect)(()=>{y()},[]),(0,r.jsxs)("div",{children:[d&&(0,r.jsx)("div",{children:"Loading..."}),p&&f&&(0,r.jsx)("div",{children:x}),!p&&(0,r.jsx)("div",{children:"Log in to see offers"}),!d&&!f&&!c&&(0,r.jsx)("div",{children:"No offers yet"}),p&&!d&&!f&&c&&(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,r.jsx)("div",{className:"py-2 inline-block min-w-full sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"overflow-hidden",children:(0,r.jsxs)("table",{className:"min-w-full",children:[(0,r.jsx)("thead",{className:"bg-white border-b",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left",children:"Amount"}),(0,r.jsx)("th",{scope:"col",className:"text-sm font-medium text-gray-900 px-6 py-4 text-left",children:"Status"})]})}),(0,r.jsx)("tbody",{children:(0,r.jsxs)("tr",{className:"bg-gray-100 border-b",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:c.amount}),(0,r.jsx)("td",{className:"text-sm text-gray-900 font-light px-6 py-4 whitespace-nowrap",children:null===c.accepted?"Pending":1===c.accepted?"Accepted!":"Rejected"})]})})]})})})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg p-4 mb-4 w-full",children:[(0,r.jsx)("p",{className:"text-lg font-medium mb-2",children:"Time Left"}),(0,r.jsx)("div",{className:"bg-gray-300 rounded-full h-4 w-full",children:(0,r.jsx)("div",{className:"bg-gray-500 rounded-full h-4",style:{width:j+"%"}})})]})]})]})}},1150:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(7437),n=s(3237),a=s(3929);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var l=s(94),c=s(575),o=s(2265),d=s(7147),u=s(7907),f=e=>{let{delta:t,curr:s,min:f,max:h,productId:x,setUpdateFlag:m}=e,[p,g]=(0,o.useState)(Math.round(s)),j=Math.round(f),v=Math.round(h),y=Math.round(t),b=(0,o.useRef)(null),N=(0,o.useRef)(null),w=(0,o.useRef)(null),S=(0,o.useRef)(null),{toast:T}=(0,d.pm)(),O=(0,u.useRouter)(),k=async()=>{console.log(w.current.value),console.log(p);let e="".concat(n.y,"api/offers/create/").concat(x),t={price:p,ttl:w.current.value},s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),credentials:"include"});if(console.log(s.status),console.log(await s.json()),401===s.status){T({title:"Uh Oh!",description:"Looks like you are not logged in, please login to place a bid"}),O.push("/login?redirect=".concat(window.location.pathname));return}if(469===s.status){T({title:"Nice Try ;)",description:"You cant bid on your own listing"}),S.current.click();return}m&&(m(!0),console.log("set update flag")),T({title:"Bid Placed!",description:"You can view your offers in Account > My Offers section"}),S.current.click()},D=()=>{if(p-y<j){b.current.disabled=!0;return}N.current.disabled=!1,g(p-y)},A=()=>{if(p+y>v){N.current.disabled=!0;return}b.current.disabled=!1,g(p+y)},[M,E]=(0,o.useState)(!1);return(0,r.jsx)("div",{children:(0,r.jsxs)(a.dy,{children:[(0,r.jsx)(a.Qz,{asChild:!0,children:(0,r.jsx)(c.z,{onClick:()=>E(!0),children:"Place Bid"})}),(0,r.jsx)(a.sc,{className:"flex  items-center justify-center",children:(0,r.jsxs)("div",{className:"max-w-sm ",children:[(0,r.jsxs)(a.OX,{children:[(0,r.jsx)(a.iI,{className:"text-xl",children:"Are you sure?"}),(0,r.jsx)(a.u6,{className:"text-basis",children:"Placing a bid means that you are interested in buying the product/service at the price if accepted. "})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center mt-8 mb-8 space-x-2",children:[(0,r.jsx)(c.z,{ref:b,className:"h-8 rounded-2xl p-0 w-8",onClick:e=>{D()},children:(0,r.jsx)(i,{color:"white",className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"text-3xl",children:["â‚¹",p]}),(0,r.jsx)(c.z,{ref:N,className:"h-8 rounded-2xl p-0 w-8",onClick:e=>{A()},children:(0,r.jsx)(l.Z,{color:"white",className:"h-6 w-6"})})]}),(0,r.jsxs)("div",{className:"flex  items-center justify-center space-x-2",children:[(0,r.jsx)("div",{children:"Bid Validity:"}),(0,r.jsxs)("select",{ref:w,children:[" ",(0,r.jsx)("option",{value:1,children:"1 Day"}),(0,r.jsx)("option",{value:2,children:" 2 Days "})," ",(0,r.jsx)("option",{value:3,children:"3 Days"})," "]})," "]}),(0,r.jsxs)(a.ze,{children:[(0,r.jsx)("div",{className:"flex justify-center"}),(0,r.jsx)(c.z,{onClick:k,children:"Submit"}),(0,r.jsx)(a.uh,{asChild:!0,children:(0,r.jsx)(c.z,{ref:S,variant:"outline",children:"Cancel"})})]})]})})]})})}},575:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var r=s(7437),n=s(2265),a=s(9143),i=s(7742),l=s(2169);let c=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:s,variant:n,size:i,asChild:o=!1,...d}=e,u=o?a.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:n,size:i,className:s})),ref:t,...d})});o.displayName="Button"},3929:function(e,t,s){"use strict";s.d(t,{OX:function(){return h},Qz:function(){return c},dy:function(){return l},iI:function(){return m},sc:function(){return f},u6:function(){return p},uh:function(){return d},ze:function(){return x}});var r=s(7437),n=s(2265),a=s(9484),i=s(2169);let l=e=>{let{shouldScaleBackground:t=!0,...s}=e;return(0,r.jsx)(a.d.Root,{shouldScaleBackground:t,...s})};l.displayName="Drawer";let c=a.d.Trigger,o=a.d.Portal,d=a.d.Close,u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.d.Overlay,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80",s),...n})});u.displayName=a.d.Overlay.displayName;let f=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(u,{}),(0,r.jsxs)(a.d.Content,{ref:t,className:(0,i.cn)("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",s),...l,children:[(0,r.jsx)("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),n]})]})});f.displayName="DrawerContent";let h=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)("grid gap-1.5 p-4 text-center sm:text-left",t),...s})};h.displayName="DrawerHeader";let x=e=>{let{className:t,...s}=e;return(0,r.jsx)("div",{className:(0,i.cn)("mt-auto flex flex-col gap-2 p-4",t),...s})};x.displayName="DrawerFooter";let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.d.Title,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});m.displayName=a.d.Title.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)(a.d.Description,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...n})});p.displayName=a.d.Description.displayName},7147:function(e,t,s){"use strict";s.d(t,{pm:function(){return f}});var r=s(2265);let n=0,a=new Map,i=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e4);a.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?i(s):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},c=[],o={toasts:[]};function d(e){o=l(o,e),c.forEach(e=>{e(o)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||r()}}}),{id:s,dismiss:r,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function f(){let[e,t]=r.useState(o);return r.useEffect(()=>(c.push(t),()=>{let e=c.indexOf(t);e>-1&&c.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},3237:function(e,t,s){"use strict";s.d(t,{y:function(){return r}});let r="https://manojshivagange.tech:3000/"},2169:function(e,t,s){"use strict";s.d(t,{cn:function(){return a}});var r=s(3167),n=s(1367);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.m6)((0,r.W)(t))}}},function(e){e.O(0,[614,376,484,971,69,744],function(){return e(e.s=3736)}),_N_E=e.O()}]);