(()=>{var e={};e.id=626,e.ids=[626],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},7147:e=>{"use strict";e.exports=require("fs")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},5447:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>o.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>l});var r=s(482),n=s(9108),i=s(2563),o=s.n(i),a=s(8300),c={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>a[e]);s.d(t,c);let l=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1613)),"/Users/manojos/WebstormProjects/cexchange/src/app/login/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2607)),"/Users/manojos/WebstormProjects/cexchange/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/manojos/WebstormProjects/cexchange/src/app/login/page.tsx"],p="/login/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},3794:(e,t,s)=>{Promise.resolve().then(s.bind(s,8590))},8590:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5344),n=s(6887),i=s(9769),o=s(6637),a=s(3729),c=s(8428);/*! js-cookie v3.0.5 | MIT */function l(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}var d=function e(t,s){function r(e,r,n){if("undefined"!=typeof document){"number"==typeof(n=l({},s,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var o in n)n[o]&&(i+="; "+o,!0!==n[o]&&(i+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],r={},n=0;n<s.length;n++){var i=s[n].split("="),o=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(o,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",l({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,l({},this.attributes,t))},withConverter:function(t){return e(l({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let p=({params:e,searchParams:t})=>{let[s,l]=(0,a.useState)(""),[p,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[g,h]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[v,y]=(0,a.useState)(!0),{toast:j}=(0,i.pm)(),w=(0,c.useRouter)();console.log(t);let P=t.redirect,N=`${n.y}api/account/login`,C=`${n.y}api/account/register`,k=async()=>{if(v)try{let e=await fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:p})});if(200===e.status){j({title:"Login Success!",description:"You are now logged in"}),console.log("here"),console.log(e),console.log(e.headers);let t=await e.json();console.log(t);let s=t.token;s&&(console.log(s),d.set("jwtToken",s,{path:"/",expires:7,sameSite:"relaxed",httpOnly:!1}),console.log("my cookie "+d.get("jwtToken"))),console.log("redir url "+P),P&&"string"==typeof P?(console.log("redirecting to "+P),w.push(P),console.log("redirected to "+P)):w.push("/")}else switch(e.status){case 469:j({title:"Login Failed!",description:"Email not found, try registering",variant:"destructive"}),y(!1);break;case 470:j({title:"Login Failed!",description:"Password incorrect"})}}catch(e){j({title:"Login Failed!",description:e.toString()})}else{if(""===s||""===p||""===m||""===g||""===f){j({title:"Empty Fields!",description:"All fields are required"});return}10!=g.length&&j({title:"Phone number invalid",description:"bad phone number"});try{switch((await fetch(C,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:p,username:m,phoneNumber:g})})).status){case 201:j({title:"Account Created!",description:"Log in with your new account"}),w.push("/");break;case 409:j({title:"account with this email exists!",description:"Reset your password if you dont remember"})}}catch(e){}}};return r.jsx(r.Fragment,{children:(0,r.jsxs)("div",{className:" relative h-[95vh] w-full bg-gray-800",children:[r.jsx("div",{className:"bg-gray-800 h-[65px] max-md:w-[100vw] lg:left-[36vw] max-md:left-0 w-96 absolute -top-[60px] left-[34vw]"}),r.jsx("div",{className:"flex items-center bg-gray-800 h-[90vh] justify-center",children:(0,r.jsxs)("div",{className:"bg-gray-100 p-14 rounded-xl px-16",children:[r.jsx("div",{className:"flex justify-center items-center",children:r.jsx("h1",{className:"text-3xl mb-10  text-black font-light",children:v?"Login":"Register"})}),r.jsx("div",{className:"flex justify-center items-center",children:(0,r.jsxs)("form",{action:e=>{k()},className:"flex flex-col w-full",children:[r.jsx(o.Z,{id:"909j8",label:"Email",type:"email",sendOp:l,className:"mb-2"}),v?null:r.jsx(o.Z,{id:"sfsxcs",label:"Username",type:"text",sendOp:x,className:"mb-2"}),v?null:r.jsx(o.Z,{id:"asfxcccx",label:"Phone Number",type:"text",sendOp:h,className:"mb-2"}),r.jsx(o.Z,{id:"12fasf",label:"Password",type:"password",sendOp:u,className:"mb-2"}),v?null:r.jsx(o.Z,{id:"asfsafcxxcxv",label:"Confirm Password",sendOp:b,type:"password",className:"mb-2"}),r.jsx("button",{className:"bg-black text-white py-2 rounded-lg",children:v?"Login":"Register"}),v?(0,r.jsxs)("p",{className:"text-center mt-5",children:["Dont have an account? ",r.jsx("span",{className:"text-blue-500 cursor-pointer",onClick:()=>y(!1),children:"Sign Up"})]}):(0,r.jsxs)("p",{className:"text-center mt-5",children:["Already have an account? ",r.jsx("span",{className:"text-blue-500 cursor-pointer",onClick:()=>y(!0),children:"Login"})]})]})})]})})]})})}},6887:(e,t,s)=>{"use strict";s.d(t,{y:()=>r});let r="https://manojshivagange.tech:3000/"},1613:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>o});let r=(0,s(6843).createProxy)(String.raw`/Users/manojos/WebstormProjects/cexchange/src/app/login/page.tsx`),{__esModule:n,$$typeof:i}=r,o=r.default},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(337);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,204,337,302],()=>s(5447));module.exports=r})();