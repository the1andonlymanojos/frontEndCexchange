(()=>{var e={};e.id=640,e.ids=[640],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},7147:e=>{"use strict";e.exports=require("fs")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},4759:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var i=s(482),a=s(9108),r=s(2563),l=s.n(r),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let c=["",{children:["myoffers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3677)),"/Users/manojos/WebstormProjects/cexchange/src/app/myoffers/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2607)),"/Users/manojos/WebstormProjects/cexchange/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/manojos/WebstormProjects/cexchange/src/app/myoffers/page.tsx"],u="/myoffers/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/myoffers/page",pathname:"/myoffers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},3386:(e,t,s)=>{Promise.resolve().then(s.bind(s,3841))},7751:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(9224).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},3841:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var i=s(5344),a=s(6887),r=s(3729),l=s(9769),n=s(7751);let o=({amount:e,created_at:t,expires_at:s,listing_id:r,accepted:l,is_valid:o,title:c,thumbnail:d,available:u,highest_bid:p,onClick:x,transaction_id:h})=>{let m=Date.parse(s)-Date.now();return console.log(m),console.log("recieved values"+e+t+s+r+l+o+c+d+u+p),i.jsx(i.Fragment,{children:i.jsx("div",{className:"flex flex-row justify-start",onClick:e=>{x(u,o,r,l,h)},children:(0,i.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg shadow-lg p-4 mb-4",children:[i.jsx("img",{src:`${a.y}`+d,className:"w-20 h-20 object-cover rounded-lg mr-4",alt:"thumbnail"}),(0,i.jsxs)("div",{className:"flex flex-col justify-between flex-1",children:[(0,i.jsxs)("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-1",children:c}),(0,i.jsxs)("p",{className:"text-gray-600",children:["Amount: â‚¹",e]}),(0,i.jsxs)("p",{className:"text-gray-600 text-sm",children:["Valid for: ",Math.floor(m%864e5/36e5)+24*Math.floor(m/864e5)," hours"]})]}),i.jsx("div",{className:(null===l?"text-purple-950":1===l?"text-green-500":"text-red-500")+" text-xs",children:null===l?"Status: Pending":1===l?"Status: Accepted! Click to get contact details":"available"===u?"Status: Rejected, click to place another bid":"Status: Rejected, listing is no longer available"})]}),i.jsx("div",{className:"flex flex-col items-center",children:i.jsx(n.Z,{width:40})})]})})})};var c=s(8428);let d=()=>{let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)([]),[d,u]=(0,r.useState)([]),[p,x]=(0,r.useState)([]),[h,m]=(0,r.useState)(!0),[f,g]=(0,r.useState)(!1),[v,_]=(0,r.useState)(!1),{toast:j}=(0,l.pm)(),b=`${a.y}api/account/offers`,y=(0,c.useRouter)(),w=async()=>{let e=await fetch(b,{method:"GET",cache:"no-cache",credentials:"include"});if(console.log(e.status),401===e.status){g(!1),j({title:"Uh Oh!",description:"Looks like you are not logged in, please login to place a bid"}),window.location.href=`/login?redirect=${window.location.pathname}`;return}200!==e.status&&(m(!1),_(!0));let s=await e.json();console.log(s),g(!0),s.offers&&t(s.offers),m(!1)};(0,r.useEffect)(()=>{w()},[]),(0,r.useEffect)(()=>{if(e.length>0){let t=[],s=[],i=[];e.forEach(e=>{1===e.accepted?t.push(e):0===e.accepted?s.push(e):i.push(e)}),n(t),u(s),x(i)}},[e]);let P=(e,t,s,i,a)=>{null==i&&j({title:"Offer is pending",description:"You can view your offers in Account > My Offers section"}),1==i&&y.push(`/transactions/${a}`),0==i&&"available"===e&&y.push(`/listing/${s}`),0==i&&"available"!==e&&j({title:"Offer is rejected",description:"The listing is no longer available"})};return i.jsx("div",{className:"flex-row flex justify-center",children:i.jsx("div",{className:"max-w-sm",children:(0,i.jsxs)("div",{className:"w-full",children:[i.jsx("h1",{className:"text-2xl",children:"My offers:"}),h&&i.jsx("div",{children:"Loading..."}),f&&v&&i.jsx("div",{children:"Failed to fetch offers"}),!f&&i.jsx("div",{children:"Log in to see offers"}),!h&&!v&&!e&&i.jsx("div",{children:"No offers yet"}),f&&!h&&!v&&(0,i.jsxs)("div",{className:"p-1",children:["Accepted Offers:",0===s.length&&i.jsx("div",{className:"text-gray-500 mb-4",children:"No accepted offers yet"}),s.map((e,t)=>i.jsx(o,{transaction_id:e.transaction_id,title:e.listing.title,amount:e.amount,accepted:e.accepted,available:e.listing.availability,created_at:e.created_at,expires_at:e.expires_at,highest_bid:e.highest_bid,is_valid:e.is_valid,listing_id:e.listing_id,thumbnail:e.listing.image_path,onClick:P},t)),"Pending Offers:",0===p.length&&i.jsx("div",{className:"text-gray-500 mb-4",children:"No pending offers yet"}),p.map((e,t)=>i.jsx(o,{onClick:P,title:e.listing.title,amount:e.amount,accepted:e.accepted,available:e.listing.availability,created_at:e.created_at,expires_at:e.expires_at,highest_bid:e.highest_bid,is_valid:e.is_valid,listing_id:e.listing_id,thumbnail:e.listing.image_path},t)),"Rejected Offers:",0===d.length&&i.jsx("div",{className:"text-gray-500 mb-4",children:"No rejected offers yet"}),d.map((e,t)=>i.jsx(o,{onClick:P,title:e.listing.title,amount:e.amount,accepted:e.accepted,available:e.listing.availability,created_at:e.created_at,expires_at:e.expires_at,highest_bid:e.highest_bid,is_valid:e.is_valid,listing_id:e.listing_id,thumbnail:e.listing.image_path},t))]})]})})})}},6887:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});let i="https://manojshivagange.tech:3000/"},3677:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>a,default:()=>l});let i=(0,s(6843).createProxy)(String.raw`/Users/manojos/WebstormProjects/cexchange/src/app/myoffers/page.tsx`),{__esModule:a,$$typeof:r}=i,l=i.default},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var i=s(337);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,i.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[638,204,337,621],()=>s(4759));module.exports=i})();